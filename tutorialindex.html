<html>

<head>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
</head>

<body>
  <script>
    AFRAME.registerComponent('thingy', {
      init: function () {
        console.log('Hello, World!');
      }


    });

    AFRAME.registerComponent('rotation-reader', {

      tick: (function () {
        var position = new THREE.Vector3();
        var quaternion = new THREE.Quaternion();

        return function () {
          this.el.object3D.getWorldPosition(position);
          this.el.object3D.getWorldQuaternion(quaternion);
          // position and rotation now contain vector and quaternion in world space.
        };
      })()
    });
  </script>


  <a-scene>

    <!--MYSTERIOUS NARRATOR FISH-->
    <a-entity>

      <a-plane position="0 0 -8" width="10" height="3" opacity="1">
        <a-image class="tile" width="10" height="3" src="#dialogue-narrator"></a-image>
        <a-text baseline="top" position="-1.5 1.1 0.2" opacity="1"
          value="I'm the previous fish. I used to live\nin this bowl too! There's so many\nthings to do here!"
          width="9"></a-text>
      </a-plane>

      <a-sky>
        <a-sphere radius="70" position="0 25 0" rotation="0 90 0" src="#sky-bedroom"
          material="side: double; shader:flat;" color="#FFFFFF"
          animation__first="property:color; to: #444466; delay:57000; dur: 1000; startEvents: loaded, animationcomplete__second"
          animation__second="property:color; to: #FFFFFF; delay:1000; dur: 1000; startEvents: animationcomplete__first">
        </a-sphere>
      </a-sky>
    </a-entity>

    <a-assets>
      <img id="sky-lake-ending" src="sky-lake-ending.png">
      <img id="sky-bedroom" src="walltest1.png">
      <img id="dialogue-narrator" src="dialogue-narrator.png">
    </a-assets>

    <a-entity camera look-controls position="0 1.6 0">\
      <a-cursor color="white"></a-cursor>
    </a-entity>
  </a-scene>
</body>

</html>