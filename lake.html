<html>

<head>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
</head>

<body>
  <script>
    document.addEventListener("keydown", function (event) { //if click h and textbox has not gone away yet, close & trigger end
      if (event.key === "h") {
        document.getElementById("lake-scene").style.display = "none";
        document.getElementById("escaped-scene").style.display = "block";
      }
    });
    AFRAME.registerComponent('rotation-reader', {
      tick: (function () {
        var position = new THREE.Vector3();
        var quaternion = new THREE.Quaternion();

        return function () {
          this.el.object3D.getWorldPosition(position);
          this.el.object3D.getWorldQuaternion(quaternion);
          // position and rotation now contain vector and quaternion in world space.
        };
      })()
    });
  </script>

  <a-scene id="lake-scene">

    <!--MYSTERIOUS NARRATOR FISH-->
    <a-entity>
      <a-plane position="0 0 -8" width="10" height="3" opacity="1">
        <a-image id="txt" class="tile" width="10" height="3" src="#dialogue-narrator"></a-image>
      </a-plane>
    </a-entity>

    </a-entity>
    <a-sky>
      <a-sphere radius="70" position="0 25 0" rotation="0 90 0" src="#sky-lake-ending"
        material="side: double; shader:flat;" color="#FFFFFF">
      </a-sphere>
    </a-sky>
    </a-entity>

    <a-assets>
      <img id="sky-lake-ending" src="sky-lake-ending.png">
      <img id="sky-bedroom" src="walltest1.png">
      <img id="dialogue-narrator" src="Assets/dialogues/narrator03.png">
      <img id="escaped" src="Assets/escaped.png" />
    </a-assets>

    <!-- Camera -->
    <a-entity id="main-camera" camera look-controls position="0 1.6 0" rotation-reader>\
      <a-cursor color="white" position="0 0 -1"></a-cursor>
    </a-entity>
  </a-scene>
</body>

</html>